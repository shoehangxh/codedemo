# 第十二章 类的进阶

## 运算符重载

- 使用operator实现运算符重载，引入相应的重载函数
  - 重载不能发明新的运算，不能改变运算的优先级与结合性，通常不改变运算含义
  - 函数参数个数与运算操作数个数相同，至少一个为 类 类型（否则重载没有意义）
  - 除operator（）外其他运算符不能有缺省参数（直接加上一个等于号）（重载小括号）定义在类的成员函数中，可以加缺省，可以包含不确定个参数
  - 可以选择实现为成员函数或非成员函数（可以放到类里面和外面）
    - 通常来说，实现为成员函数时，使用*this作为第一个操作数，注意此时，要少写一个参数，注意 == 与<=>的重载
- 根据重载特性，可以进一步将运算符进行划分：
  - 可重载且必须实现为成员函数的运算符（ =，[], (), ->与转型运算符）
  - 可重载且可以实现为非成员函数的运算符
  - 可重载但不建议重载的运算符（&&， ||，逗号运算符）因为需要分别求值且顺序不定，没办法完全模拟操作过程，C++17开始可以实现，但仍丢失短路逻辑。
  - 不可重载运算符（？：运算符）